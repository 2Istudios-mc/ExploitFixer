package twolovers.exploitfixer.bukkit.listeners.initializers;

import org.bukkit.event.HandlerList;
import org.bukkit.plugin.Plugin;
import org.bukkit.plugin.PluginManager;

import twolovers.exploitfixer.bukkit.listeners.PlayerCommandListener;
import twolovers.exploitfixer.bukkit.listeners.PlayerLoginListener;
import twolovers.exploitfixer.bukkit.listeners.PlayerQuitListener;
import twolovers.exploitfixer.bukkit.listeners.PlayerTabCompleteListener;
import twolovers.exploitfixer.interfaces.managers.ModuleManager;

public class ListenerInitializer {
	public ListenerInitializer(final Plugin plugin, final ModuleManager moduleManager) {
		final PluginManager pluginManager = plugin.getServer().getPluginManager();

		HandlerList.unregisterAll(plugin);
		pluginManager.registerEvents(new PlayerCommandListener(plugin, moduleManager), plugin);
		pluginManager.registerEvents(new PlayerLoginListener(plugin, moduleManager), plugin);
		pluginManager.registerEvents(new PlayerQuitListener(moduleManager), plugin);
		pluginManager.registerEvents(new PlayerTabCompleteListener(plugin, moduleManager), plugin);
	}
}
