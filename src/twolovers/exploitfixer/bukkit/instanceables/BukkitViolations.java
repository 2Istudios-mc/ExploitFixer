package twolovers.exploitfixer.bukkit.instanceables;

import org.bukkit.configuration.ConfigurationSection;
import twolovers.exploitfixer.interfaces.instanceables.Violations;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

public class BukkitViolations implements Violations {
	private Map<Integer, Collection<String>> violations = new HashMap<>();

	public BukkitViolations(final ConfigurationSection configuration) {
		if (configuration != null)
			for (final String key : configuration.getKeys(false)) {
				try {
					this.violations.put(Integer.parseInt(key), configuration.getStringList(key));
				} catch (final NumberFormatException ignored) {
				}
			}
	}

	public Collection<String> getCommands(final int violations) {
		return this.violations.getOrDefault(violations, null);
	}

	@Override
	public Collection<Integer> getViolations() {
		return violations.keySet();
	}
}
