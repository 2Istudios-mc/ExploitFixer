package twolovers.exploitfixer.bungee.instanceables;

import net.md_5.bungee.config.Configuration;
import twolovers.exploitfixer.interfaces.instanceables.Violations;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

public class BungeeViolations implements Violations {
	private Map<Integer, Collection<String>> violations = new HashMap<>();

	public BungeeViolations(final Configuration configuration) {
		if (configuration != null)
			for (final String key : configuration.getKeys()) {
				try {
					this.violations.put(Integer.parseInt(key), configuration.getStringList(key));
				} catch (NumberFormatException ignored) {
				}
			}
	}

	@Override
	public Collection<String> getCommands(final int violations) {
		return this.violations.getOrDefault(violations, null);
	}

	@Override
	public Collection<Integer> getViolations() {
		return violations.keySet();
	}
}
