package dev._2lstudios.exploitfixer.bukkit.modules;

import java.util.Collection;
import java.util.HashSet;

import org.bukkit.configuration.Configuration;
import org.bukkit.configuration.file.YamlConfiguration;
import dev._2lstudios.exploitfixer.shared.interfaces.PunishmentModule;

public class ConnectionModule implements PunishmentModule {
	private boolean uuidSpoofEnabled, nullAddressEnabled;
	private String name;
	private Collection<String> punishments;

	public ConnectionModule(final Configuration configYml) {
		reload(configYml);
	}

	public void reload(final Configuration configYml) {
		final YamlConfiguration configYml1 = (YamlConfiguration) configYml;

		this.uuidSpoofEnabled = configYml1.getBoolean("connection.uuidspoof");
		this.nullAddressEnabled = configYml1.getBoolean("connection.nulladdress");
		this.name = "UUID-Spoof";
		this.punishments = new HashSet<>(configYml1.getStringList("connection.punishments"));
	}

	public boolean isUUIDSpoofEnabled() {
		return uuidSpoofEnabled;
	}

	public boolean isNullAddressEnabled() {
		return nullAddressEnabled;
	}

	@Override
	public boolean isEnabled() {
		return true;
	}

	@Override
	public String getName() {
		return this.name;
	}

	@Override
	public Collection<String> getPunishments() {
		return this.punishments;
	}
}
