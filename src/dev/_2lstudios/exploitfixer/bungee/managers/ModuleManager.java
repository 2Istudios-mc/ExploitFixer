package dev._2lstudios.exploitfixer.bungee.managers;

import net.md_5.bungee.api.plugin.Plugin;
import net.md_5.bungee.config.Configuration;
import dev._2lstudios.exploitfixer.bungee.modules.*;
import dev._2lstudios.exploitfixer.bungee.managers.ModuleManager;

public class ModuleManager {
	private CommandsModule commandsModule;
	private final ConnectionModule connectionModule;
	private CustomPayloadModule customPayloadModule;
	private BungeeMessagesModule messagesModule;
	private NotificationsModule notificationsModule;
	private ExploitPlayerManager exploitPlayerManager;

	public ModuleManager(final Plugin plugin, final Configuration configYml, final Configuration messagesYml) {
		this.commandsModule = new CommandsModule(configYml);
		this.connectionModule = new ConnectionModule(configYml);
		this.customPayloadModule = new CustomPayloadModule(plugin, this, configYml);
		this.messagesModule = new BungeeMessagesModule(plugin.getDescription().getVersion(), messagesYml);
		this.notificationsModule = new NotificationsModule(plugin.getProxy().getConsole(), plugin.getLogger(),
				configYml);
		this.exploitPlayerManager = new ExploitPlayerManager(plugin.getProxy(), this);
	}

	public void reload(final Configuration configYml, final Configuration messagesYml, final Configuration spigotYml) {
		this.commandsModule.reload(configYml);
		this.connectionModule.reload(configYml);
		this.customPayloadModule.reload(configYml);
		this.messagesModule.reload(messagesYml);
		this.notificationsModule.reload(configYml);
		this.exploitPlayerManager.reload();
	}

	public CommandsModule getCommandsModule() {
		return commandsModule;
	}

	public ConnectionModule getConnectionModule() {
		return connectionModule;
	}

	public CustomPayloadModule getCustomPayloadModule() {
		return customPayloadModule;
	}

	public BungeeMessagesModule getMessagesModule() {
		return messagesModule;
	}

	public NotificationsModule getNotificationsModule() {
		return notificationsModule;
	}

	public ExploitPlayerManager getExploitPlayerManager() {
		return exploitPlayerManager;
	}
}
